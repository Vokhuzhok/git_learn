(this.webpackJsonpfirst=this.webpackJsonpfirst||[]).push([[0],{127:function(e,t,n){e.exports={header:"Header_header__1VCKf"}},129:function(e,t,n){e.exports={item:"Post_item__ihtu9"}},16:function(e,t,n){e.exports={userPhoto:"ProfileMain_userPhoto__y_iLR",fullName:"ProfileMain_fullName__9FHhG",gridPole:"ProfileMain_gridPole__1dU_V",leftPole:"ProfileMain_leftPole__3M1b3",rightPole:"ProfileMain_rightPole__2M3zO",upPole:"ProfileMain_upPole__L5Y2w",dlPole:"ProfileMain_dlPole__287eU",drPole:"ProfileMain_drPole__1TJ7W",aboutMe:"ProfileMain_aboutMe__Rlx8y",contactsHeader:"ProfileMain_contactsHeader__1m9kv",jobHeader:"ProfileMain_jobHeader__2Wy57",image:"ProfileMain_image__3zmG0",status:"ProfileMain_status__14GqI",mainpole:"ProfileMain_mainpole__3iE3e"}},164:function(e,t,n){},168:function(e,t,n){},18:function(e,t,n){e.exports={nav:"Navigation_nav__INfuO",item:"Navigation_item__2T5qw",activeLink:"Navigation_activeLink__2rUFB",friends:"Navigation_friends__1A75m",activeFriend:"Navigation_activeFriend__6FThY"}},26:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2xRSA",dialogsItem:"Dialogs_dialogsItem__8wYI2",dialog:"Dialogs_dialog__lk_cw",activeLink:"Dialogs_activeLink__34w6e",messages:"Dialogs_messages__1w_Up",message:"Dialogs_message__1xIDh",addMessage:"Dialogs_addMessage__1Bihp"}},27:function(e,t,n){e.exports={users:"Users_users__2Iv27",left:"Users_left__2qf2f",center:"Users_center__VEhBL",right:"Users_right__3lU39",ava:"Users_ava__dN1VK",selectedPage:"Users_selectedPage__J63sh",pagesNumber:"Users_pagesNumber__10oH9",preloader:"Users_preloader__HS_r6"}},285:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),s=n.n(a),c=n(62),i=n.n(c),o=(n(164),n(11)),u=n(12),l=n(7),d=(n(168),n.p+"static/media/Preloader.a0f02698.gif"),j=function(e){return Object(r.jsx)("span",{children:Object(r.jsx)("img",{src:d})})},f=n(26),b=n.n(f),h=n(13),p=function(e){var t="/dialogs/"+e.id;return Object(r.jsx)("div",{className:b.a.dialog,children:Object(r.jsxs)(h.b,{to:t,activeClassName:b.a.activeLink,children:[Object(r.jsx)("img",{src:e.ava})," ",e.name]})})},O=function(e){return Object(r.jsx)("div",{className:b.a.message,children:e.message})},m=n(120),g=n(121),x=function(e){if(!e)return"Field is requred"},v=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},_=n(5),w=n(53),P=n(36),N=n.n(P),k=function(e){var t=e.input,n=e.meta,a=Object(w.a)(e,["input","meta"]),s=n.error&&n.touched;return Object(r.jsxs)("div",{className:s?N.a.error:N.a.noError,children:[Object(r.jsx)("textarea",Object(_.a)(Object(_.a)({},t),a)),s&&Object(r.jsx)("span",{children:n.error})]})},S=function(e){var t=e.input,n=e.meta,a=Object(w.a)(e,["input","meta"]),s=n.error&&n.touched;return Object(r.jsxs)("div",{className:s?N.a.error:N.a.noError,children:[Object(r.jsx)("input",Object(_.a)(Object(_.a)({},t),a)),s&&Object(r.jsx)("span",{children:n.error})]})},y=v(100),I=Object(g.a)({form:"dialogAddMessage"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(r.jsx)(m.a,{name:"addMessage",placeholder:"Add new message",component:k,validate:[y]}),Object(r.jsx)("button",{children:"Add Message"})]})})),U=function(e){var t=e.dialogsPage.dialogs.map((function(e){return Object(r.jsx)(p,{ava:e.ava,name:e.name,id:e.id},e.id)})),n=e.dialogsPage.messages.map((function(e){return Object(r.jsx)(O,{message:e.message},e.id)}));return Object(r.jsxs)("div",{className:b.a.dialogs,children:[Object(r.jsx)("div",{className:b.a.dialogsItem,children:t}),Object(r.jsxs)("div",{className:b.a.messages,children:[n,Object(r.jsx)("div",{className:b.a.addMessage,children:Object(r.jsx)(I,{onSubmit:function(t){e.addMessage(t.addMessage)}})})]})]})},M=n(42),A="ADD_MESSAGE",C={dialogs:[{id:1,name:"Dormidont",ava:"http://img.crazys.info/files/i/2012.12.25/1356372924_28.jpg"},{id:2,name:"Assiry",ava:"https://i03.fotocdn.net/s119/11a097ff366bfb24/user_l/2713047325.jpg"},{id:3,name:"Sara",ava:"https://moi-tvoi.ru/upload/iblock/photos215/product_214674_0.jpg"},{id:4,name:"Solomon",ava:"https://cdn1.flamp.ru/8c5aead96cc82fbde736b4be1fe17432.jpg"},{id:5,name:"Ivan",ava:"https://i.imgur.com/ad8toZw.jpg"},{id:6,name:"Yarik",ava:"https://www.ejin.ru/wp-content/uploads/2018/10/crew4_1024.png"},{id:7,name:"Alise",ava:"https://yt3.ggpht.com/a/AATXAJzwzRrAdErWWD7zuI-KBzY4Nma9XUotZ5UQBQ=s900-c-k-c0xffffffff-no-rj-mo"}],messages:[{id:1,message:"Hi!"},{id:2,message:"How are you?"},{id:3,message:"YO!"}]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:var n={id:4,message:t.text};return Object(_.a)(Object(_.a)({},e),{},{messages:[].concat(Object(M.a)(e.messages),[n])});default:return e}},L=n(125),F=n(126),T=n(133),D=n(132),H=function(e){return e.auth.login},R=function(e){return e.auth.auth},G=function(e){return e.auth},z=function(e){return e.app.initialised},W=function(e){return e.auth.userId},J=function(e){return{isAuth:R(e)}},Y=function(e){var t=function(t){Object(T.a)(a,t);var n=Object(D.a)(a);function a(){return Object(L.a)(this,a),n.apply(this,arguments)}return Object(F.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(r.jsx)(e,Object(_.a)({},this.props)):Object(r.jsx)(u.a,{to:"/login"})}}]),a}(s.a.Component);return Object(o.b)(J)(t)},B=function(e){return e.dialogsPage},V=Object(l.d)(Object(o.b)((function(e){return{dialogsPage:B(e)}}),{addMessage:function(e){return{type:A,text:e}}}),Y)(U),K=n(127),Q=n.n(K),X=function(e){var t=e.userId,n=e.auth,a=e.login,s=e.logOut;return Object(r.jsxs)("header",{className:Q.a.header,children:[Object(r.jsx)("img",{src:"http://www.usb-over-network.com/img/main/fabulatech-logo-1600.png",alt:"Our site brand"}),n?Object(r.jsxs)("div",{children:[Object(r.jsx)(h.b,{to:"/profile/".concat(t),children:a})," ",Object(r.jsx)("button",{onClick:s,children:"LogOut"})]}):Object(r.jsx)("div",{children:Object(r.jsx)(h.b,{to:"/login",children:"Login"})})]})},q=n(9),Z=n.n(q),$=n(14),ee=n(34),te=n(128).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"0b33513f-dce5-466b-9c81-8713d7df6fb4"}}),ne=function(e,t){return te.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},re=function(e){return te.delete("follow/".concat(e)).then((function(e){return e.data}))},ae=function(e){return te.post("follow/".concat(e)).then((function(e){return e.data}))},se=function(){return te.get("auth/me").then((function(e){return e.data}))},ce=function(e,t,n){return te.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},ie=function(){return te.delete("auth/login").then((function(e){return e.data}))},oe=function(e){return te.get("profile/"+e).then((function(e){return e.data}))},ue=function(e){return te.get("profile/status/"+e).then((function(e){return e.data}))},le=function(e){return te.put("profile/status",{status:e}).then((function(e){return e.data.resultCode}))},de=function(e){return te.put("profile/",{profile:e}).then((function(e){return e.data.resultCode}))},je="SET_AUTH_ME",fe={userId:null,email:null,login:null,auth:!1},be=function(e,t,n,r){return{type:je,data:{userId:e,email:t,login:n,auth:r}}},he=function(){return function(){var e=Object($.a)(Z.a.mark((function e(t){var n,r,a,s,c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:0===(n=e.sent).resultCode&&(r=n.data,a=r.id,s=r.email,c=r.login,t(be(a,s,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},pe=function(){return function(){var e=Object($.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:0===e.sent.resultCode&&t(be(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return Object(_.a)(Object(_.a)({},e),t.data);default:return e}},me=Object(o.b)((function(e){return{login:H(e),auth:R(e),userId:W(e)}}),{logOut:pe})((function(e){var t=e.login,n=e.auth,a=e.userId,s=e.logOut;return Object(r.jsx)(X,{login:t,auth:n,userId:a,logOut:s})})),ge=Object(g.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsx)("div",{children:Object(r.jsx)(m.a,{name:"email",placeholder:"E-mail",component:S,validate:[x]})}),Object(r.jsx)("div",{children:Object(r.jsx)(m.a,{name:"password",placeholder:"Password",component:S,validate:[x],type:"password"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(m.a,{name:"rememberMe",component:"input",type:"checkbox"})," Remember Me"]}),n&&Object(r.jsx)("div",{className:N.a.errorForm,children:n}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{children:"Log In"})})]})})),xe=function(e){return e.auth.auth?Object(r.jsx)(u.a,{to:"/profile"}):Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Login"}),Object(r.jsx)(ge,{onSubmit:function(t){e.logIn(t.email,t.password,t.rememberMe)}})]})},ve=Object(o.b)((function(e){return{auth:G(e)}}),{logIn:function(e,t,n){return function(){var r=Object($.a)(Z.a.mark((function r(a){var s,c;return Z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ce(e,t,n);case 2:0===(s=r.sent).resultCode?a(he()):(c=s.messages.length>0?s.messages[0]:"Some error",a(Object(ee.a)("login",{_error:c})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},logOut:pe})(xe),_e=function(){return Object(r.jsx)("div",{children:"Music"})},we=n(18),Pe=n.n(we),Ne=function(e){return Object(r.jsxs)("nav",{className:Pe.a.nav,children:[Object(r.jsx)("div",{className:Pe.a.item,children:Object(r.jsx)(h.b,{to:"/profile",activeClassName:Pe.a.activeLink,children:"Profile"})}),Object(r.jsx)("div",{className:Pe.a.item,children:Object(r.jsx)(h.b,{to:"/dialogs",activeClassName:Pe.a.activeLink,children:"Messages"})}),Object(r.jsx)("div",{className:Pe.a.item,children:Object(r.jsx)(h.b,{to:"/news",activeClassName:Pe.a.activeLink,children:"News"})}),Object(r.jsx)("div",{className:Pe.a.item,children:Object(r.jsx)(h.b,{to:"/music",activeClassName:Pe.a.activeLink,children:"Music"})}),Object(r.jsx)("div",{className:Pe.a.item,children:Object(r.jsx)(h.b,{to:"/users",activeClassName:Pe.a.activeLink,children:"Users"})}),Object(r.jsx)("div",{className:Pe.a.item,children:Object(r.jsx)(h.b,{to:"/settings",activeClassName:Pe.a.activeLink,children:"Settings"})})]})},ke=function(){return Object(r.jsx)("div",{children:"News"})},Se=v(30),ye=Object(g.a)({form:"addMyPost"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(r.jsx)(m.a,{name:"addPost",placeholder:"Add new post",component:k,validate:[Se]}),Object(r.jsx)("button",{children:"Add Message"})]})})),Ie=n(67),Ue=n.n(Ie),Me=n(129),Ae=n.n(Me),Ce=function(e){return Object(r.jsxs)("div",{className:Ae.a.item,children:[Object(r.jsx)("img",{src:"https://i.pinimg.com/originals/65/b8/85/65b885158c187b7572be1b347dfaaf86.jpg"}),e.message,Object(r.jsx)("div",{children:Object(r.jsxs)("span",{children:[e.likecount," Like"]})})]})},Ee=s.a.memo((function(e){var t=e.posts.map((function(e){return Object(r.jsx)(Ce,{message:e.message,likecount:e.likecount},e.id)}));return Object(r.jsxs)("div",{className:Ue.a.myposts,children:[Object(r.jsx)("h3",{className:Ue.a.headerPosts,children:"My Posts"}),Object(r.jsx)("div",{children:Object(r.jsx)(ye,{onSubmit:function(t){e.addPost(t.addPost)}})}),Object(r.jsx)("div",{className:Ue.a.postblock,children:t})]})})),Le="ADD_POST",Fe="SET_CURRENT_PROFILE",Te="SET_STATUS",De={posts:[{id:1,message:"How are you?",likecount:30},{id:2,message:"It`s my first post",likecount:50}],profile:null,status:null},He=function(e){return{type:Te,status:e}},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:var n={id:3,message:t.text,likecount:0};return Object(_.a)(Object(_.a)({},e),{},{posts:[].concat(Object(M.a)(e.posts),[n])});case Fe:return Object(_.a)(Object(_.a)({},e),{},{profile:t.profile});case Te:return Object(_.a)(Object(_.a)({},e),{},{status:t.status});default:return e}},Ge=function(e){return e.profilePage.profile},ze=function(e){return e.profilePage.status},We=function(e){return e.profilePage.posts},Je=Object(o.b)((function(e){return{posts:We(e)}}),{addPost:function(e){return{type:Le,text:e}}})(Ee),Ye=n.p+"static/media/User.8ae9816d.png",Be=n(16),Ve=n.n(Be),Ke=n.p+"static/media/galochka.dc33bca1.png",Qe=n.p+"static/media/krestik.b732998c.jpg",Xe=n(43),qe=function(e){var t=Object(a.useState)(!1),n=Object(Xe.a)(t,2),s=n[0],c=n[1],i=Object(a.useState)(e.status),o=Object(Xe.a)(i,2),u=o[0],l=o[1];return Object(a.useEffect)((function(){l(e.status)}),[e.status]),Object(r.jsxs)("span",{className:Ve.a.status,children:[!s&&Object(r.jsx)("span",{onDoubleClick:e.userId===e.authId?function(){c(!0)}:null,children:e.status?e.status:"No status"}),s&&Object(r.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),e.updateUserStatus(u)},value:u})]})},Ze=function(e){return e.profile?Object(r.jsx)("div",{className:Ve.a.mainpole,children:Object(r.jsxs)("div",{className:Ve.a.gridPole,children:[Object(r.jsxs)("div",{className:Ve.a.leftPole,children:[Object(r.jsxs)("div",{className:Ve.a.userPhoto,children:[Object(r.jsxs)("div",{children:["My status: ",Object(r.jsx)(qe,{userId:e.profile.userId,authId:e.authId,status:e.status,updateUserStatus:e.updateUserStatus})]}),Object(r.jsx)("img",{src:null!=e.profile.photos.large?e.profile.photos.large:Ye,alt:"Sorry"})]}),Object(r.jsx)("div",{className:Ve.a.fullName,children:e.profile.fullName})]}),Object(r.jsxs)("div",{className:Ve.a.rightPole,children:[Object(r.jsx)("div",{className:Ve.a.upPole,children:Object(r.jsxs)("div",{className:Ve.a.aboutMe,children:["About me : ",e.profile.aboutMe]})}),Object(r.jsxs)("div",{className:Ve.a.dlPole,children:[Object(r.jsx)("div",{className:Ve.a.contactsHeader,children:"Contacts:"}),Object(r.jsxs)("div",{children:["Facebook:"," ",null!=e.profile.contacts.facebook?e.profile.contacts.facebook:"No contact"]}),Object(r.jsxs)("div",{children:["VK:"," ",null!=e.profile.contacts.vk?e.profile.contacts.vk:"No contact"]}),Object(r.jsxs)("div",{children:["YouTube:"," ",null!=e.profile.contacts.youtube?e.profile.contacts.youtube:"No contact"]}),Object(r.jsxs)("div",{children:["Instagram:"," ",null!=e.profile.contacts.instagram?e.profile.contacts.instagram:"No contact"]}),Object(r.jsxs)("div",{children:["GitHub:"," ",null!=e.profile.contacts.github?e.profile.contacts.github:"No contact"]})]}),Object(r.jsxs)("div",{className:Ve.a.drPole,children:[Object(r.jsx)("dir",{className:Ve.a.jobHeader,children:"About job:"}),Object(r.jsxs)("dir",{className:Ve.a.image,children:["Looking for a job:"," ",!0===e.profile.lookingForAJob?Object(r.jsx)("img",{src:Ke}):Object(r.jsx)("img",{src:Qe})]})]})]})]})}):Object(r.jsx)(j,{})},$e=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(Ze,{authId:e.authId,profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus}),Object(r.jsx)(Je,{})]})},et=Object(l.d)(Object(o.b)((function(e){return{profile:Ge(e),status:ze(e),authId:W(e)}}),{getUserProfile:function(e){return function(){var t=Object($.a)(Z.a.mark((function t(n){var r;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe(e);case 2:r=t.sent,n({type:Fe,profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatus:function(e){return function(){var t=Object($.a)(Z.a.mark((function t(n){var r;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue(e);case 2:r=t.sent,n(He(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatus:function(e){return function(){var t=Object($.a)(Z.a.mark((function t(n){return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le(e);case 2:0===t.sent&&n(He(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),u.f,Y)((function(e){var t=e.profile,n=e.getUserProfile,s=e.getUserStatus,c=e.updateUserStatus,i=e.status,o=e.authId,u=Object(w.a)(e,["profile","getUserProfile","getUserStatus","updateUserStatus","status","authId"]).match.params.userId;return null!==t&&void 0!==u||(u=o),Object(a.useEffect)((function(){n(u)}),[n,u]),Object(a.useEffect)((function(){s(u)}),[s,u]),Object(r.jsx)($e,{authId:o,profile:t,status:i,updateUserStatus:c})})),tt="SET_AUTH_USER_PROFILE",nt="SET_IS_LOAD",rt="SET_LFAJ",at={profileAuth:null,isLoad:!1},st=function(e){return{type:tt,profileAuth:e}},ct=function(e){return{type:nt,isLoadCase:e}},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt:return Object(_.a)(Object(_.a)({},e),{},{isLoad:t.isLoadCase});case tt:return Object(_.a)(Object(_.a)({},e),{},{profileAuth:t.profileAuth});case rt:return Object(_.a)(Object(_.a)({},e.profileAuth),{},{lookingForAJob:t.lookingForAJob});default:return e}},ot=function(e){e.profileAuth,e.putAuthUserProfile;return Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:"SETTINGS"})})},ut=function(e){return e.setting.isLoad},lt=function(e){return e.setting.profileAuth},dt=Object(l.d)(Object(o.b)((function(e){return{profileAuth:lt(e),isLoad:ut(e),authUserId:W(e)}}),{loadAuthUserProfile:function(e){return function(){var t=Object($.a)(Z.a.mark((function t(n){var r;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe(e);case 2:r=t.sent,n(st(r)),n(ct(!0));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},putAuthUserProfile:function(e){return function(){var t=Object($.a)(Z.a.mark((function t(n){return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ct(!1)),t.next=3,de(e);case 3:0===t.sent&&(st(e),ct(!0));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Y)((function(e){var t=e.profileAuth,n=e.isLoad,a=e.authUserId,s=e.loadAuthUserProfile,c=e.putAuthUserProfile;return!1===n&&s(a),null===t?Object(r.jsx)(j,{}):Object(r.jsx)(ot,{profileAuth:t,putAuthUserProfile:c})})),jt="FOLLOW",ft="UNFOLLOW",bt="SET_USERS",ht="SET_USERS_COUNT",pt="TOGGLE_IS_FETCHING",Ot={users:[],pageSize:10,usersCount:20,isFetching:!1},mt=function(e){return{type:pt,isFetching:e}},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jt:return Object(_.a)(Object(_.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(_.a)(Object(_.a)({},e),{},{followed:!0}):e}))});case ft:return Object(_.a)(Object(_.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(_.a)(Object(_.a)({},e),{},{followed:!1}):e}))});case bt:return Object(_.a)(Object(_.a)({},e),{},{users:Object(M.a)(t.users)});case ht:return Object(_.a)(Object(_.a)({},e),{},{usersCount:t.count});case pt:return Object(_.a)(Object(_.a)({},e),{},{isFetching:t.isFetching});default:return e}},xt=n(27),vt=n.n(xt),_t=function(e){return e.users.map((function(t){return Object(r.jsxs)("div",{className:vt.a.users,children:[Object(r.jsxs)("div",{className:vt.a.left,children:[Object(r.jsx)("div",{className:vt.a.ava,children:Object(r.jsx)(h.b,{to:"profile/"+t.id,children:Object(r.jsx)("img",{src:null!=t.photos.small?t.photos.small:Ye})})}),Object(r.jsx)("div",{children:t.name}),Object(r.jsx)("div",{className:vt.a.button,children:t.followed?Object(r.jsx)("button",{onClick:function(){e.unfollow(t.id)},children:"Unfollow"}):Object(r.jsx)("button",{onClick:function(){e.follow(t.id)},children:"Follow"})})]}),Object(r.jsx)("div",{className:vt.a.center,children:Object(r.jsx)("div",{className:vt.a.status,children:null!=t.status?t.status:"No status"})}),Object(r.jsxs)("div",{className:vt.a.right,children:[Object(r.jsx)("div",{children:"city"}),Object(r.jsx)("div",{children:"country"})]})]},t.id)}))},wt=n(90),Pt=n.n(wt),Nt=function(e){return Object(r.jsx)("section",{className:Pt.a.pagesNumber,children:e.items.map((function(t){return Object(r.jsx)("button",{className:e.currentItem===t?Pt.a.selectedPage:void 0,onClick:function(){e.onItemChanged(t)},children:t})}))})},kt=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(Nt,{items:e.pages,currentItem:e.currentPage,onItemChanged:e.onPageChanged}),e.isFetching?Object(r.jsx)("div",{className:vt.a.preloader,children:Object(r.jsx)(j,{})}):Object(r.jsx)(_t,{users:e.users,follow:e.follow,unfollow:e.unfollow})]})},St=n(130),yt=Object(St.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),It=function(e){return e.usersPage.pageSize},Ut=function(e){return e.usersPage.usersCount},Mt=function(e){return e.usersPage.isFetching},At=Object(o.b)((function(e){return{users:yt(e),pageSize:It(e),usersCount:Ut(e),isFetching:Mt(e)}}),{follow:function(e){return function(){var t=Object($.a)(Z.a.mark((function t(n){return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae(e);case 2:0===t.sent.resultCode&&n({type:jt,id:e});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object($.a)(Z.a.mark((function t(n){return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re(e);case 2:0===t.sent.resultCode&&n({type:ft,id:e});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},uGet:function(e,t){return function(){var n=Object($.a)(Z.a.mark((function n(r){var a;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(mt(!0)),n.next=3,ne(e,t);case 3:a=n.sent,r((c=a.items,{type:bt,users:c})),r((s=a.totalCount,{type:ht,count:s})),r(mt(!1));case 7:case"end":return n.stop()}var s,c}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.uGet,n=e.pageSize,s=e.usersCount,c=e.isFetching,i=e.users,o=e.follow,u=e.unfollow,l=Object(a.useState)([]),d=Object(Xe.a)(l,2),j=d[0],f=d[1],b=Object(a.useState)(1),h=Object(Xe.a)(b,2),p=h[0],O=h[1];return Object(a.useEffect)((function(){t(p,n)}),[t,p,n]),Object(a.useEffect)((function(){j=[];for(var e=Math.ceil(s/n),t=1;t<=e;t++)j.push(t);f(j)}),[s,n]),Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(kt,{users:i,pages:j,currentPage:p,onPageChanged:function(e){O(e)},follow:o,unfollow:u,isFetching:c})})})),Ct="SET_INIT",Et={initialised:!1},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ct:return Object(_.a)(Object(_.a)({},e),{},{initialised:!0});default:return e}},Ft=Object(l.d)(Object(o.b)((function(e){return{initialised:z(e),auth:R(e)}}),{getInit:function(){return function(){var e=Object($.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t(he()),e.next=3,Promise.all([n]);case 3:t({type:Ct});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),u.f)((function(e){return e.auth||e.getInit(),e.initialised?Object(r.jsxs)("div",{className:"app-wrapper",children:[Object(r.jsx)(me,{}),Object(r.jsx)(Ne,{}),Object(r.jsxs)("div",{className:"app-wrapper-content",children:[Object(r.jsx)(u.b,{path:"/dialogs",render:function(){return Object(r.jsx)(V,{})}}),Object(r.jsx)(u.b,{path:"/profile/:userId?",render:function(){return Object(r.jsx)(et,{})}}),Object(r.jsx)(u.b,{path:"/news",render:function(){return Object(r.jsx)(ke,{})}}),Object(r.jsx)(u.b,{path:"/music",render:function(){return Object(r.jsx)(_e,{})}}),Object(r.jsx)(u.b,{path:"/settings",render:function(){return Object(r.jsx)(dt,{})}}),Object(r.jsx)(u.b,{path:"/users",render:function(){return Object(r.jsx)(At,{})}}),Object(r.jsx)(u.b,{path:"/login",render:function(){return Object(r.jsx)(ve,{})}})]})]}):Object(r.jsx)(j,{})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Tt=n(131),Dt=n(122),Ht=Object(l.c)({profilePage:Re,dialogsPage:E,usersPage:gt,auth:Oe,form:Dt.a,app:Lt,setting:it}),Rt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,Gt=Object(l.e)(Ht,Rt(Object(l.a)(Tt.a)));i.a.render(Object(r.jsx)(h.a,{children:Object(r.jsx)(o.a,{store:Gt,children:Object(r.jsx)(Ft,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},36:function(e,t,n){e.exports={error:"FormControls_error__NYm1W",noError:"FormControls_noError__3uxQe",errorForm:"FormControls_errorForm__Qb2Dh"}},67:function(e,t,n){e.exports={myposts:"MyPosts_myposts__2WVXa",postblock:"MyPosts_postblock__1eOnW",headerPosts:"MyPosts_headerPosts__1I3Sb"}},90:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__xmQj0",pagesNumber:"Paginator_pagesNumber__1CZOG"}}},[[285,1,2]]]);
//# sourceMappingURL=main.fe5bba62.chunk.js.map